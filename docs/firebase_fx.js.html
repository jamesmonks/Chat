<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: firebase_fx.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: firebase_fx.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>let __FIREBASE_LISTENERS__;


update_current_user_info()
/**
 * Function accepts an object with values for it's attributes set to match the new information for the user. Once
 * the update function succeeds, it then updates the information locally in the app.
 * 
 * @param {object} new_user_info an object with properties representing the change of user information to be performed.
 * @param {string} new_user_info[__USER_INFO_NICK__] an optional attribute of the new_user_info object @see {@link __USER_INFO_NICK__}
 * @param {string} new_user_info[__USER_INFO_NAME__] an optional attribute of the new_user_info object @see {@link __USER_INFO_NAME__}
 * @param {string} new_user_info[__USER_INFO_BIO__] an optional attribute of the new_user_info object @see {@link __USER_INFO_BIO__}
 * @param {string} new_user_info[__USER_INFO_PIC__] an optional attribute of the new_user_info object @see {@link __USER_INFO_PIC__}
 * @param {string} new_user_info[__USER_INFO_HOME__] an optional attribute of the new_user_info object @see {@link __USER_INFO_HOME__}
 */
async function update_current_user_info(new_user_info)
{
    console.log("update_current_user_info");
    console.log(new_user_info);

    let update_obj = {};

    if (new_user_info[__USER_INFO_NICK__] != null)
    {
        let new_nick = new_user_info[__USER_INFO_NICK__];
        update_obj[`/users/${user_uid}/info/${__USER_INFO_NICK__}`] = new_nick;
        update_obj[`/users/nicks/${user_uid}`] = new_nick;
        update_obj[`/users/user_ids/${user_info[__USER_INFO_NICK__]}/${user_uid}`] = null;
        update_obj[`/users/user_ids/${new_nick}/${user_uid}`] = true;
    }
    if (new_user_info[__USER_INFO_NAME__] != null)
        update_obj[`users${user_uid}/info/${__USER_INFO_NAME__}`] = new_user_info[__USER_INFO_NAME__];
    if (new_user_info[__USER_INFO_PIC__] != null)
        update_obj[`users${user_uid}/info/${__USER_INFO_PIC__}`] = new_user_info[__USER_INFO_PIC__];
    if (new_user_info[__USER_INFO_BIO__] != null)
        update_obj[`users${user_uid}/info/${__USER_INFO_BIO__}`] = new_user_info[__USER_INFO_BIO__];
    if (new_user_info[__USER_INFO_HOME__] != null)
        update_obj[`users${user_uid}/info/${__USER_INFO_HOME__}`] = new_user_info[__USER_INFO_HOME__];
    console.log(update_obj);

    firebase.database().ref()
        .update(update_obj)
        .then(function(stuff) {
            console.log("stuff");
            console.log(stuff);
            if (new_user_info[__USER_INFO_NAME__] != null)
                user_info[__USER_INFO_NAME__] = new_user_info[__USER_INFO_NAME__];
            if (new_user_info[__USER_INFO_NICK__] != null)
                user_info[__USER_INFO_NICK__] = new_user_info[__USER_INFO_NICK__];
            if (new_user_info[__USER_INFO_PIC__] != null)
                user_info[__USER_INFO_PIC__] = new_user_info[__USER_INFO_PIC__];
            if (new_user_info[__USER_INFO_BIO__] != null)
                user_info[__USER_INFO_BIO__] = new_user_info[__USER_INFO_BIO__];
            if (new_user_info[__USER_INFO_HOME__] != null)
                user_info[__USER_INFO_HOME__] = new_user_info[__USER_INFO_HOME__]; })
        .catch(function(error) {console.log("error");console.log(error)});
}

// function fetch_user_info(user_id, callback_function)
// {
//     let ref = database.ref("/users/" + user_id + "/info");
//     ref.once("value", callback_function);
// }

/**
 * Function takes the user id as an argument and adds it to the user's contact list. If successful
 * returns true, if not returns false;
 * @param {*} contact_id 
 */
async function firebase_add_contact(contact_id)
{
    console.log(`firebase_add_contact(${contact_id}`);
    let ref = database.ref(`users/${user_uid}/contacts/${contact_id}`);
    let success =  await ref.set(true).then( () => {return true}).catch(() => {return false})
    return success;
}

/**
 * Function takes a user id and removes it from the logged in user's contact list
 * @param {*} contact_id 
 * @returns Boolean value whether or not it succeeded
 */
async function firebase_remove_contact(contact_id)
{
    console.log("firebase_remove_contact", contact_id);
    let ref = database.ref(`users/${user_uid}/contacts/${contact_id}`);
    let success = await ref.remove().then( () => {return true} ).catch( () => {return false;});
    return success;
}

firebase_create_chatroom

/**
 * Function creates a chatroom with the name of {@link room_name} with a logo url from {@link room_logo}.
 * It utilizes {@link firebase_edit_chatroom} to edit the chatroom, this function is concerned with creating
 * the necessary keys to insert the chatroom information into.
 * @param {string} room_name 
 * @param {string} room_logo 
 * @returns the key in firebase that this room is referenced by.
 */
async function firebase_create_chatroom(room_name, room_logo)
{
    let key = await database.ref(`rooms/chatrooms`).push().key;
    let msg_key = await database.ref(`rooms/chatrooms/${key}/messages`).push().key;
    let msg_obj = {};
    msg_obj[msg_key] = {
        "user" : user_uid,
        "timestamp" : firebase.database.ServerValue.TIMESTAMP,
        "media_typ" : "text",
        "media_msg" : `${user_profiles[user_uid][__USER_INFO_NICK__]} has opened this channel`
    }
    
    await firebase_edit_chatroom(key, room_name, room_logo, msg_obj);
    return key;
}

/**
 * Function modifies the chatroom information identified by {@link room_id}. An optional
 * [message]{@link msg_object} is the last argument, for the case that user's may want to be
 * notified of any changes to the room via a speech bubble. This is a hook for future usage.
 * @param {*} room_id 
 * @param {*} room_name 
 * @param {*} room_logo 
 * @param {*} msg_object 
 */
async function firebase_edit_chatroom(room_id, room_name, room_logo, msg_object = null)
{
    let updates = {};
    updates[`/rooms/chatrooms/${room_id}/info`] = {
        "name" : room_name,
        "logo" : room_logo,
        "creator" : user_uid
    };
    updates[`/rooms/chatrooms/${room_id}/users/${user_uid}`] = true;
    updates[`/rooms/room_hashes/${room_id}`] = room_name;
    updates[`/users/${user_uid}/rooms/${room_id}`] = true;
    if (msg_object)
        updates[`/rooms/chatrooms/${room_id}/messages`] = msg_object;
    //let ref = database.ref("rooms");
    await database.ref().update(updates);
}

/**
 * Function responds to an event from a document element that has an attribute 
 * @param {*} event 
 */
function firebase_add_user_to_chatroom_event(event)
{
    console.log("firebase_add_user_to_chatroom_event");
    let ct = event.currentTarget;
    firebase_add_user_to_chatroom(ct.getAttribute("data-user"), ct.getAttribute("data-room"));
}

async function firebase_add_user_to_chatroom(user_id, chatroom_id)
{
    console.log(`firebase_add_user_to_chatroom(${user_id}, ${chatroom_id})`);
    let add2chat = {};
    add2chat[`rooms/chatrooms/${chatroom_id}/users/${user_id}`] = true;
    add2chat[`users/${user_id}/rooms/${chatroom_id}`] = true;
    try {  await database.ref().update(add2chat);  }
    catch (error) { return false; }
    return true;
}

async function firebase_get_room_info(room_id)
{
    console.log(`firebase_get_room_info(${room_id})`);
    let ref1 = database.ref(`rooms/chatrooms/${room_id}/info`);
    let ref2 = database.ref(`rooms/chatrooms/${room_id}/users`);
    let fb_room_info = await ref1.once("value");
    let fb_room_users = await ref2.once("value");
    fb_room_info = fb_room_info.val();
    fb_room_users = fb_room_users.val();
    console.log(`fb_room_info: ${fb_room_info}`);
    console.log(`fb_room_users: ${fb_room_users}`);

    let obj = {};
    obj[__ROOMINFO_NAME_KEY__]  = fb_room_info[__ROOMINFO_NAME_KEY__];
    obj[__ROOMINFO_CRTR_KEY__]  = fb_room_info[__ROOMINFO_CRTR_KEY__];
    obj[__ROOMINFO_LOGO_KEY__]  = fb_room_info[__ROOMINFO_LOGO_KEY__];
    obj[__ROOMINFO_USRS_KEY__]  = Object.keys(fb_room_users);
    console.log(`obj[${__ROOMINFO_USRS_KEY__}]= ${obj[__ROOMINFO_USRS_KEY__]}`);

    return obj;
}

function firebase_add_room_listener(room_id)
{
    let ref1 = database.ref(`rooms/chatrooms/${room_id}/info`);
    let ref2 = database.ref(`rooms/chatrooms/${room_id}/users`);
    ref1.on("child_changed", (snapshot) => {modify_chatroom_values(snapshot, "child_changed")});
    ref2.on("child_added", modify_chatroom_user_list);
}



async function firebase_get_room_messages(room_id, callback_function = null)
{

}

async function add_message_to_firebase(room_id, msg_type, content) {
    database.ref(`/rooms/chatrooms/${room_id}/messages`).push( {
        "user" : user_uid,
        "timestamp" : firebase.database.ServerValue.TIMESTAMP,
        "media_typ" : msg_type,
        "media_msg" : content
    });
}

/**
 * Function establishes a connection to the Firebase app
 */
function connect_to_firebase()
{
    // Initialize Firebase
    firebase.initializeApp({
        apiKey: "AIzaSyD5z0Ul3RHeFlfkkHJxUJSXxjyCssuyvQg",
        authDomain: "noodlemessager.firebaseapp.com",
        databaseURL: "https://noodlemessager-default-rtdb.firebaseio.com",
        projectId: "noodlemessager",
        storageBucket: "noodlemessager.appspot.com",
        messagingSenderId: "797233813077",
        appId: "1:797233813077:web:094f137d99b9971462a6dc"
    });
    database = firebase.database();
    auth = firebase.auth();
}

 /**
 * 
 * @param {*} snapshot snapshot of the message data that was added
 * @param {*} prev_key the previous message's key
 */
function message_received(snapshot, prev_key)
{
    let valid = true;
    let debug = false;
    //todo validity checks
    // console.log("message_received()");
    if (debug)
        console.log(snapshot.ref.key, snapshot.toJSON());
    if (valid)
    {
        let room_key = snapshot.ref.parent.parent.key.toString();
        let msg_key = snapshot.ref.key;
        let room_obj = room_info[room_key];

        if (debug)
            console.log(`room_key, msg_key(${room_key}, ${msg_key})`);
        
        if (! room_obj.hasOwnProperty(__ROOMINFO_MSGS_KEY__) )
            room_obj[__ROOMINFO_MSGS_KEY__] = {};
        let room_msgs = room_obj[__ROOMINFO_MSGS_KEY__];
        
        if (debug)
            console.log(`room_info[${room_key}][${__ROOMINFO_MSGS_KEY__}]= ${room_msgs}`);

        room_msgs[msg_key] = snapshot.toJSON();

        if (room_key != current_roomid)
            flash_room_on_menu(room_key);
        //todo test
        if (room_key == current_roomid)
        {
            let room_message = room_msgs[msg_key];
            if (debug)
                console.log("message received and roomkey is currentroom");
            add_chatroom_message(room_message[__MSG_USER_KEY__], room_message[__MSG_TIME_KEY__], room_message[__MSG_TEXT_KEY__]);
        }

    }
}

async function firebase_setup_new_user(success_callback, failure_callback)
{
    console.log(`firebase_setup_new_user()`);
    if (_new_user)
    {
        _new_user = false;
        //do stuff here
        let update_obj = firebase_initial_user_values_object();
        console.log(update_obj);
        database.ref().update(update_obj).then(success_callback).catch(err_value => {
            failure_callback(err_value);
        });
    }
    else
        user_login_complete();
}

function firebase_initial_user_values_object() 
{
    let update_obj = {};
    let user_nick = __DEFAULT_USER_INFO[__USER_INFO_NICK__];
    update_obj[`/users/${user_uid}/info`] = __DEFAULT_USER_INFO;
    update_obj[`/users/nicks/${user_uid}`] = user_nick;
    update_obj[`/users/user_ids/${user_nick}/${user_uid}`] = true;
    return update_obj;
}

async function register_firebase_listener(reference, event_type = null, fx = null)
{
    if (! __FIREBASE_LISTENERS__)
        __FIREBASE_LISTENERS__ = [];
    __FIREBASE_LISTENERS__.push([reference, event_type, fx]);
}

async function delete_user()
{
    let update_obj = {},
        jane_doe = `0000000000000000000000000000`,
        all_data_retrieved = true,
        rooms_keys = [];
        errors = [];

    // 01) user_uid is value of rooms.chatrooms.room_id.info.creator *replace with jane_doe*
    async function del01_get_creatorship_rooms(obj)
    {
        console.log("doing 01")
        await database.ref(`/rooms/chatrooms/`)
                    .orderByChild(`info/creator`)
                    .equalTo(user_uid)
                    .once("value")
                    .then(snapshot => {  
                        snapshot.forEach(child => { obj[`/rooms/chatrooms/${child.key}/info/creator`] = jane_doe });
                        console.log("done 01")                })
                    .catch( error => { all_data_retrieved = false; errors.push(error)});
        return obj;
    }
    
    
    // 02) user_uid is in chatroom users => rooms.chatrooms.room_id.users.[user_uid] *delete*
    async function del02_get_membership_rooms(obj)
    {
        console.log("doing 02");
        await database.ref(`/users/${user_uid}/rooms`)
                    .once("value")
                    .then(snapshot => {
                        users_rooms = snapshot;
                        snapshot.forEach(child => {
                            rooms_keys.push(child.key);
                            obj[`/rooms/chatrooms/${child.key}/users/${user_uid}`] = null; //delete user
                            obj[`/rooms/chatrooms/${child.key}/users/${jane_doe}`] = true; //make new user for deleted
                        });
                        console.log("done 02")  })
                    .catch( error => { all_data_retrieved = false; errors.push(error) } );
        return obj;
    }
        
    
    // We will not keep any reference to there being a user or a deleted user here
    // Reason: creating many users and then deleting them will fill up the users list

    // 03) User uid is a value in rooms.chatrooms.room_id.messages.message_id.user
    // Replace this value with the uid of the 'deleted user' (basically a John Doe account)
    // rooms.chatrooms.room_id.messages.message_id.media_msg = "User has been removed"
    // rooms.chatrooms.room_id.messages.message_id.media_typ = "Text"
    // let rooms_msgs_snapshots = [];
    
    async function del03_get_all_messages(obj)
    {
        console.log("doing 03");
        for (let i=0; i &lt; rooms_keys.length; i++)
        {
            let room_key = rooms_keys[i];
            await database.ref(`/rooms/chatrooms/${room_key}/messages/`)
            .orderByChild(`user`)
            .equalTo(user_uid)
            .once("value")
            .then(
                snapshot => 
                { 
                    // rooms_msgs_snapshots[child.key] = snapshot; 
                    snapshot.forEach( (msg) => 
                    {
                        let chatroom_key = room_key,
                        msg_key = msg.key;
                        console.log(msg, chatroom_key, msg_key);
                        obj[`/rooms/chatrooms/${chatroom_key}/messages/${msg_key}/user`] = jane_doe;
                        obj[`/rooms/chatrooms/${chatroom_key}/messages/${msg_key}/media_typ`] = "text";
                        obj[`/rooms/chatrooms/${chatroom_key}/messages/${msg_key}/media_msg`] = "User message has been removed by System";
                        console.log("message made");
                    } );
                }
            )
            .catch( error => { all_data_retrieved = false; errors.push(error) } );
            console.log("done 03");
        };
        console.log("after 03");
        return obj;
    }

    // for (let i=0; i &lt;test_room_arr.length; i++)
    // {
    //     let test_ref2 = database.ref(`/rooms/chatrooms/${test_room_arr[i]}/messages/`).orderByChild(`user`).equalTo(user_uid);
    //     test_ref2.once("value", snapshot => { rooms_msgs_snapshots[i] = snapshot; } );
    // }
    
// 04) users.[uid].contacts &lt;== Use this to iterate through contacts and delete any self reference in other users
    async function del04_get_contacts(obj)
    {
        console.log("doing 04")
        await database.ref(`/users/${user_uid}/contacts`)
            .once("value")
            .then( snapshot => { snapshot.forEach(child => { obj[`/users/${child.key}/contacts/${user_uid}`] = null }); console.log("done 04")})
            .catch( error => { all_data_retrieved = false; errors.push(error) } );
        return obj;
    }

    function del05_other_cleanup(obj)
    {
        // 05) users.nicks.[uid] *delete*
        obj[`/users/nicks/${user_uid}`] = null;
        // 06) users.user_ids.[user_nick].[uid] *delete*
        obj[`/users/user_ids/${user_info[__USER_INFO_NICK__]}/${user_uid}`] = null;
        // 07) users.[uid] *delete*
        // update_obj[`/users/${user_uid}`] = null;
        // Keep this last, as after this we will not be able to retrieve these values to use for searching purposes
    }

    await del01_get_creatorship_rooms(update_obj);
    await del02_get_membership_rooms(update_obj);
    await del03_get_all_messages(update_obj);
    await del04_get_contacts(update_obj);
    del05_other_cleanup(update_obj);

// 07) users.[uid] *delete*
    // update_obj[`/users/${user_uid}`] = null;
    // Keep this last, as after this we will not be able to retrieve these values to use for searching purposes
// 08) execute
    unregister_firebase_listeners();
    console.log(JSON.stringify(update_obj));
    if (all_data_retrieved)
        firebase.database().ref().update(update_obj);//.then(signout()).catch( error => { errors.push(error) } );
    
    if (errors.length > 0)
    {
        show_error_modal("&lt;h3>Unable to delete user&lt;/h3>", `&lt;p>We are unable to delete your account at this time. Please
            contact the admin directly via e-mail&lt;/p>&lt;p>Apologies for the inconvenience&lt;/p>`);
        errors.forEach(error => { console.log(error) });
    }
        
    //todo #7
    // 1) get user's rooms
    // 2) get comments by user in those rooms and rooms where user is the creator
        //chatrooms/roomid/messages/msg_id/user = user_uid
        //chatrooms/roomid/info/creator = user_uid
        //with messages, don't forget to add an index
        //https://stackoverflow.com/questions/40471284/firebase-search-by-child-value
    // 3) set userid to null in users/nicks
    // 4) set user's id to null in users/user_ids/nick
    // 5) from 1), set chatrooms/roomid/users/user_uid to null
    // 6) from 2), set chatrooms/roomid/messages/msg_id/media_msg to "user deleted"
    // 7) from 2), set chatrooms/roomid/messages/msg_id/user to "User Deleted"
    // 8) from 2), remove chatrooms/roomid
}

function unregister_firebase_listeners()
{
    if (__FIREBASE_LISTENERS__)
    {
        for (let i=0; i &lt; __FIREBASE_LISTENERS__.length; i++)
        {
            let reference = database.ref(__FIREBASE_LISTENERS__[i][0]);
            let event_type = __FIREBASE_LISTENERS__[i][1];
            let fx = __FIREBASE_LISTENERS__[i][2];

            remove_firebase_listener(reference, event_type, fx);
        }
    }
    function remove_firebase_listener(reference, event_type, fx) {
        if (event_type == null)
            return reference.off();
        if (fx == null)
            return reference.off(event_type);
        
        reference.off(event_type, fx);
    }
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#__DEFAULT_PROFILE_IMAGE_LINK__">__DEFAULT_PROFILE_IMAGE_LINK__</a></li><li><a href="global.html#__DEFAULT_ROOM_IMAGE_LINK__">__DEFAULT_ROOM_IMAGE_LINK__</a></li><li><a href="global.html#__USE_24_HOUR_CLOCK__">__USE_24_HOUR_CLOCK__</a></li><li><a href="global.html#__USER_INFO_BIO__">__USER_INFO_BIO__</a></li><li><a href="global.html#__USER_INFO_HOME__">__USER_INFO_HOME__</a></li><li><a href="global.html#__USER_INFO_NAME__">__USER_INFO_NAME__</a></li><li><a href="global.html#__USER_INFO_NICK__">__USER_INFO_NICK__</a></li><li><a href="global.html#__USER_INFO_PIC__">__USER_INFO_PIC__</a></li><li><a href="global.html#__USER_PROFILE_COLOR__">__USER_PROFILE_COLOR__</a></li><li><a href="global.html#__USER_PROFILE_CSS__">__USER_PROFILE_CSS__</a></li><li><a href="global.html#add_chatroom_message">add_chatroom_message</a></li><li><a href="global.html#add_non_firebase_room">add_non_firebase_room</a></li><li><a href="global.html#add_room">add_room</a></li><li><a href="global.html#add_room_to_menu">add_room_to_menu</a></li><li><a href="global.html#add_user_profile">add_user_profile</a></li><li><a href="global.html#attach_received_user_profile_listener">attach_received_user_profile_listener</a></li><li><a href="global.html#auth">auth</a></li><li><a href="global.html#change_user_data_in_gui">change_user_data_in_gui</a></li><li><a href="global.html#choose_user_font_color">choose_user_font_color</a></li><li><a href="global.html#clear_message_text">clear_message_text</a></li><li><a href="global.html#connect_to_firebase">connect_to_firebase</a></li><li><a href="global.html#continue_to_add_chatroom_message">continue_to_add_chatroom_message</a></li><li><a href="global.html#create_next_user_color">create_next_user_color</a></li><li><a href="global.html#create_response_statement_object">create_response_statement_object</a></li><li><a href="global.html#create_user_style">create_user_style</a></li><li><a href="global.html#database">database</a></li><li><a href="global.html#discerning_allow_empty">discerning_allow_empty</a></li><li><a href="global.html#empty_user_variables">empty_user_variables</a></li><li><a href="global.html#fetch_user_contacts">fetch_user_contacts</a></li><li><a href="global.html#firebase_add_contact">firebase_add_contact</a></li><li><a href="global.html#firebase_add_user_to_chatroom_event">firebase_add_user_to_chatroom_event</a></li><li><a href="global.html#firebase_create_chatroom">firebase_create_chatroom</a></li><li><a href="global.html#firebase_edit_chatroom">firebase_edit_chatroom</a></li><li><a href="global.html#firebase_remove_contact">firebase_remove_contact</a></li><li><a href="global.html#flash_room_on_menu">flash_room_on_menu</a></li><li><a href="global.html#human_readable_timestamp">human_readable_timestamp</a></li><li><a href="global.html#init_chat_section">init_chat_section</a></li><li><a href="global.html#init_modal_button_functions">init_modal_button_functions</a></li><li><a href="global.html#init_user">init_user</a></li><li><a href="global.html#initialize_app">initialize_app</a></li><li><a href="global.html#load_user_profile">load_user_profile</a></li><li><a href="global.html#message_received">message_received</a></li><li><a href="global.html#navigation_setup">navigation_setup</a></li><li><a href="global.html#populate_object_field">populate_object_field</a></li><li><a href="global.html#populate_profile_parameters">populate_profile_parameters</a></li><li><a href="global.html#populate_user_data">populate_user_data</a></li><li><a href="global.html#preview_image">preview_image</a></li><li><a href="global.html#print_user_contacts">print_user_contacts</a></li><li><a href="global.html#queued_view_profile_user_id">queued_view_profile_user_id</a></li><li><a href="global.html#received_user_contacts_list">received_user_contacts_list</a></li><li><a href="global.html#received_user_profile">received_user_profile</a></li><li><a href="global.html#remove_allow_empty_children">remove_allow_empty_children</a></li><li><a href="global.html#remove_modal_body_content">remove_modal_body_content</a></li><li><a href="global.html#reset_gui">reset_gui</a></li><li><a href="global.html#resize_menu_button">resize_menu_button</a></li><li><a href="global.html#retrieve_user_info">retrieve_user_info</a></li><li><a href="global.html#room_selected">room_selected</a></li><li><a href="global.html#scroll_to_last_row">scroll_to_last_row</a></li><li><a href="global.html#send_message_event">send_message_event</a></li><li><a href="global.html#setup_navigation_listeners">setup_navigation_listeners</a></li><li><a href="global.html#show_queued_modal">show_queued_modal</a></li><li><a href="global.html#update_current_user_info">update_current_user_info</a></li><li><a href="global.html#update_user_data_in_gui">update_user_data_in_gui</a></li><li><a href="global.html#user_contacts">user_contacts</a></li><li><a href="global.html#user_info">user_info</a></li><li><a href="global.html#user_profiles">user_profiles</a></li><li><a href="global.html#user_rooms">user_rooms</a></li><li><a href="global.html#user_tokens">user_tokens</a></li><li><a href="global.html#user_uid">user_uid</a></li><li><a href="global.html#vars_remove_contact">vars_remove_contact</a></li><li><a href="global.html#view_room_info_modal_prep">view_room_info_modal_prep</a></li><li><a href="global.html#view_user_profile_modal_prep">view_user_profile_modal_prep</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Wed Oct 20 2021 18:29:45 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
