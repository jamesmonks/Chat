<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>


    <!-- Custom CSS here -->
    <link href="./dist/css/index.css" rel="stylesheet" />
    <link href="./dist/css/experiment.css" rel="stylesheet" />
    <link href="./dist/css/side_menu.css" rel="stylesheet" />

    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js" 
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" 
    integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>

    <!-- Bootstrap -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" 
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" 
    integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    <!-- FontAwesome -->
    <script src="https://kit.fontawesome.com/f39761baba.js" crossorigin="anonymous"></script>
    
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        .container-fluid {
            background-color: aqua;
        }

        .col-3 {
            background-color: brown;
        }

        #chatroom-nav i {
            transition-duration: 0.5s;
        }

        .side-menu-content {
            height: 60vh;
            position: relative;
        }

        #chatrooms-div,
        #chatroom-users-div {
            position: absolute;
            height: 100%;
            width: 100%;
            transition-timing-function: cubic-bezier(0.06, 0.68, 0.29, 0.88);
            overflow-x: hidden;
        }

        #chatrooms-div {
            left: 0;
            background-color: #0008;
        }

        #chatroom-users-div {
            left: 100%;
            background-color: #0068;
        }
    </style>
    
    <script>
        $(document).ready(init);
        function init()
        {
            $(window).on("resize", resize_menu_button);
            resize_menu_button();

            $(".chat-show-users").on("click", toggle_chatrooms_users);
            // $(".chat-show-chatrooms").on("click", show_users_chatrooms);
            $(".chat-show-chatrooms").on("click", toggle_chatrooms_users);
        }

        function toggle_chatrooms_users(event)
        {
            let show_users = $(event.currentTarget).hasClass("chat-show-users");
            console.log(show_users);
            //hide overflow from parent div
            $("#chatroom-nav").css("overflow", "hidden hidden");
            //add display-block to children
            $("#chatrooms-div, #chatroom-users-div").removeClass("d-none").addClass("d-block");
            //style buttons
            //animate children
            //add display-none to hidden child
            //add overflow to parent div
            if (show_users)
            {
                $(".chat-show-users").removeClass("text-secondary").addClass("text-light");
                $(".chat-show-chatrooms").addClass("text-secondary").removeClass("text-light");

                $("#chatroom-users-div").animate( { left : 0 }, { duration : ".6s"});
                $("#chatrooms-div").animate( { left : "-100%" }, 
                                             { duration : ".6s", 
                                               complete : function() 
                                                          {
                                                            $("#chatrooms-div").addClass("d-none").removeClass("d-block");
                                                            $("#chatroom-nav").css( "overflow", "hidden auto");
                                                          } });
            }
            else
            {
                $(".chat-show-users").addClass("text-secondary").removeClass("text-light");
                $(".chat-show-chatrooms").removeClass("text-secondary").addClass("text-light");

                $("#chatroom-users-div").animate( { left : "100%" }, { duration : ".6s"});
                $("#chatrooms-div").animate( { left : 0 }, 
                                             { duration : ".6s", 
                                               complete : function() 
                                                          {
                                                            $("#chatroom-users-div").addClass("d-none").removeClass("d-block");
                                                            $("#chatroom-nav").css( "overflow", "hidden auto");
                                                          } });
            }
        }

        function resize_menu_button()
        {
            let div_width = $("#chatroom-nav").width();
            console.log("ratio setting")
            let ratio = Math.max(1.25, 1.125);
            $(".fa").css( "font-size", div_width * (0.5 * 0.6) / ratio );
        }
    </script>
</head>
<body>
    <div class="container-fluid h-100">
        <div class="row">
            <div id="chatroom-nav" class="col-3 h-100 text-center px-0">
                
                <button id="show-create-room-modal-button" class="create-button btn btn-primary">New Room</button>
                <div class="w-100 text-light py-2">
                    <i class="fa fa-comments fa-fw d-inline text-light chat-show-chatrooms pr-1 pl-auto"></i>
                    <i class="fa fa-users fa-fw text-secondary d-inline chat-show-users pl-1 pr-auto"></i>
                </div>

                <div id="chatrooms-div" class="allow-empty">
                        <div id="robot_help" class="room-button" data-toggle="collapse" data-target="#sidemenu-room-summary-robot_help" data-roomid="robot_help"><div class="full-chatroom-name">Help</div><img class="room-icon" src="./images/empty-round-room.jpg"></div><div id="sidemenu-room-summary-robot_help" class="border-top border-bottom border-primary collapse my-2">
                        <label for="robot_help-sidemenu-summary-name" class="small sidemenu-room-summary-label">Roomname:</label>
                        <div id="robot_help-sidemenu-summary-name" class="sidemenu-room-summary-text text-center">Help</div>
                        <label for="robot_help-sidemenu-summary-creator" class="small sidemenu-room-summary-label">Creator:</label>
                        <div id="robot_help-sidemenu-summary-creator" class="sidemenu-room-summary-text text-center">IAmNoodleninja</div>
                    <div class="text-center"><a class="btn py-0 my-2 btn-outline-primary" data-roomid="robot_help">Info</a></div></div>
                    <div id="-MXx0hbVIN1R6oBrZVkK" class="room-button full-room-minim has-unread-messages" data-toggle="collapse" data-target="#sidemenu-room-summary--MXx0hbVIN1R6oBrZVkK" data-roomid="-MXx0hbVIN1R6oBrZVkK">
                        <div class="full-chatroom-name">sylvia's bunnies</div><img class="room-icon" src="https://picsum.photos/400/100"></div><div id="sidemenu-room-summary--MXx0hbVIN1R6oBrZVkK" class="border-top border-bottom border-primary collapse my-2">
                        <label for="-MXx0hbVIN1R6oBrZVkK-sidemenu-summary-name" class="small sidemenu-room-summary-label">Roomname:</label>
                        <div id="-MXx0hbVIN1R6oBrZVkK-sidemenu-summary-name" class="sidemenu-room-summary-text text-center">sylvia's bunnies</div>
                        <label for="-MXx0hbVIN1R6oBrZVkK-sidemenu-summary-creator" class="small sidemenu-room-summary-label">Creator:</label>
                        <div id="-MXx0hbVIN1R6oBrZVkK-sidemenu-summary-creator" class="sidemenu-room-summary-text text-center">Mr Mercury</div>
                    <div class="text-center"><a class="btn py-0 my-2 btn-outline-primary" data-roomid="-MXx0hbVIN1R6oBrZVkK">Info</a></div></div><div id="-M_X05e6q880r2cFgwtl" class="room-button full-room-minim has-unread-messages" data-toggle="collapse" data-target="#sidemenu-room-summary--M_X05e6q880r2cFgwtl" data-roomid="-M_X05e6q880r2cFgwtl"><div class="full-chatroom-name">Temporary sanctuary</div><img class="room-icon" src="https://picsum.photos/250/250"></div><div id="sidemenu-room-summary--M_X05e6q880r2cFgwtl" class="border-top border-bottom border-primary collapse my-2">
                        <label for="-M_X05e6q880r2cFgwtl-sidemenu-summary-name" class="small sidemenu-room-summary-label">Roomname:</label>
                        <div id="-M_X05e6q880r2cFgwtl-sidemenu-summary-name" class="sidemenu-room-summary-text text-center">Temporary sanctuary</div>
                        <label for="-M_X05e6q880r2cFgwtl-sidemenu-summary-creator" class="small sidemenu-room-summary-label">Creator:</label>
                        <div id="-M_X05e6q880r2cFgwtl-sidemenu-summary-creator" class="sidemenu-room-summary-text text-center">IAmNoodleninja</div>
                    <div class="text-center"><a class="btn py-0 my-2 btn-outline-primary" data-roomid="-M_X05e6q880r2cFgwtl">Info</a></div></div><div id="-Mh8yDDpXS4WbRgmpWCl" class="room-button full-room-minim has-unread-messages" data-toggle="collapse" data-target="#sidemenu-room-summary--Mh8yDDpXS4WbRgmpWCl" data-roomid="-Mh8yDDpXS4WbRgmpWCl"><div class="full-chatroom-name">AKEPB project</div><div class="room-initial">A</div><div class="room-initial second-letter">p</div></div><div id="sidemenu-room-summary--Mh8yDDpXS4WbRgmpWCl" class="border-top border-bottom border-primary collapse my-2">
                        <label for="-Mh8yDDpXS4WbRgmpWCl-sidemenu-summary-name" class="small sidemenu-room-summary-label">Roomname:</label>
                        <div id="-Mh8yDDpXS4WbRgmpWCl-sidemenu-summary-name" class="sidemenu-room-summary-text text-center">AKEPB project</div>
                        <label for="-Mh8yDDpXS4WbRgmpWCl-sidemenu-summary-creator" class="small sidemenu-room-summary-label">Creator:</label>
                        <div id="-Mh8yDDpXS4WbRgmpWCl-sidemenu-summary-creator" class="sidemenu-room-summary-text text-center">Koala</div>
                    <div class="text-center"><a class="btn py-0 my-2 btn-outline-primary" data-roomid="-Mh8yDDpXS4WbRgmpWCl">Info</a></div></div><div id="-MiX9wTDkz0qld0h9LaX" class="room-button has-unread-messages" data-toggle="collapse" data-target="#sidemenu-room-summary--MiX9wTDkz0qld0h9LaX" data-roomid="-MiX9wTDkz0qld0h9LaX"><div class="full-chatroom-name">pop</div><div class="room-initial only-letter">p</div></div><div id="sidemenu-room-summary--MiX9wTDkz0qld0h9LaX" class="border-top border-bottom border-primary collapse my-2">
                        <label for="-MiX9wTDkz0qld0h9LaX-sidemenu-summary-name" class="small sidemenu-room-summary-label">Roomname:</label>
                        <div id="-MiX9wTDkz0qld0h9LaX-sidemenu-summary-name" class="sidemenu-room-summary-text text-center">pop</div>
                        <label for="-MiX9wTDkz0qld0h9LaX-sidemenu-summary-creator" class="small sidemenu-room-summary-label">Creator:</label>
                        <div id="-MiX9wTDkz0qld0h9LaX-sidemenu-summary-creator" class="sidemenu-room-summary-text text-center">No Nick</div>
                    <div class="text-center"><a class="btn py-0 my-2 btn-outline-primary" data-roomid="-MiX9wTDkz0qld0h9LaX">Info</a></div></div><div id="roomid_1" class="room-button has-unread-messages" data-toggle="collapse" data-target="#sidemenu-room-summary-roomid_1" data-roomid="roomid_1"><div class="full-chatroom-name">ROOM1VALUE</div><img class="room-icon" src="https://thumbs.dreamstime.com/z/yoga-meditating-sunrise-woman-mindfulness-meditation-beach-girl-back-view-nature-scene-74149792.jpg"></div><div id="sidemenu-room-summary-roomid_1" class="border-top border-bottom border-primary collapse my-2">
                        <label for="roomid_1-sidemenu-summary-name" class="small sidemenu-room-summary-label">Roomname:</label>
                        <div id="roomid_1-sidemenu-summary-name" class="sidemenu-room-summary-text text-center">ROOM1VALUE</div>
                        <label for="roomid_1-sidemenu-summary-creator" class="small sidemenu-room-summary-label">Creator:</label>
                        <div id="roomid_1-sidemenu-summary-creator" class="sidemenu-room-summary-text text-center">Mr Mercury</div>
                    <div class="text-center"><a class="btn py-0 my-2 btn-outline-primary" data-roomid="roomid_1">Info</a></div></div>
                </div>
                <div id="chatroom-users-div" class="d-none">USERS</div>
            </div>
            <div class="col-9 h-100"></div>
        </div>
    </div>
    
    
    <!-- Firebase requests that it be placed at the end of the page -->
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-app.js"></script>
    
    <!-- TODO: Add SDKs for Firebase products that you want to use
    https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.0.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.0.2/firebase-auth.js"></script>
    
</body>
</html>